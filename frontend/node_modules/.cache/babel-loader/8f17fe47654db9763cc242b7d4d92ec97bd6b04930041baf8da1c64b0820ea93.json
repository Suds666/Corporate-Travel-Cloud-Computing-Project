{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\strik\\\\Downloads\\\\cafecoffee\\\\corporate-travel\\\\frontend\\\\src\\\\components\\\\Flights.js\",\n  _s = $RefreshSig$();\n// src/components/Flights.js\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport './Flights.css'; // We'll create this new CSS file\n\n// --- Constants ---\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SNOWFLAKE_SRC = '/images/snowflake_615669.png';\nconst SNOWBALL_SRC = '/images/snowball.png';\nconst SNOWMAN_SRCS = ['/images/cold_13792674.png', '/images/snowman_2469233.png'];\nconst TARGET_SRC = '/images/target_610064.png';\n\n// --- Physics Adjustments ---\nconst GRAVITY = 0.01; // <<< REDUCED gravity significantly\nconst SNOWFLAKE_COMBINE_DIST = 25;\nconst SNOWBALL_COMBINE_DIST = 35;\nconst TARGET_HIT_DIST = 40;\nconst INTERACTION_RADIUS = 130; // Slightly larger interaction radius\nconst MOUSE_PUSH_FORCE = 0.25; // <<< INCREASED mouse push force\nconst SNOWBALL_PICKUP_DIST = 30;\nconst SNOWBALL_THROW_SPEED = 7; // Renamed for clarity\n\n// --- Helper ---\nconst getRandom = (min, max) => Math.random() * (max - min) + min;\nconst distSq = (x1, y1, x2, y2) => (x1 - x2) ** 2 + (y1 - y2) ** 2;\nfunction Flights() {\n  _s();\n  var _location$state, _user$company2;\n  // --- Original State & Hooks ---\n  const location = useLocation();\n  const navigate = useNavigate();\n  const user = (_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.user;\n  const [originalFlights, setOriginalFlights] = useState([]);\n  const [airlines, setAirlines] = useState([]);\n\n  // --- Interactive Elements State ---\n  const [elements, setElements] = useState([]);\n  const [target, setTarget] = useState({\n    x: 150,\n    y: 100,\n    vx: 1.2,\n    size: 60,\n    isHit: false,\n    hitTime: 0 // Slightly slower target\n  });\n  const [heldElement, setHeldElement] = useState(null);\n  const containerRef = useRef(null);\n  const mousePos = useRef({\n    x: window.innerWidth / 2,\n    y: window.innerHeight / 2\n  });\n  const animationFrameId = useRef(null);\n\n  // --- Data Fetching (Keep as before) ---\n  useEffect(() => {\n    var _user$company;\n    if (user !== null && user !== void 0 && (_user$company = user.company) !== null && _user$company !== void 0 && _user$company.id) {\n      fetch(`http://localhost:5000/api/flights?company_id=${user.company.id}`).then(res => res.json()).then(data => {\n        setOriginalFlights(data);\n        const uniqueAirlines = [...new Set(data.map(f => f.airline))];\n        setAirlines(uniqueAirlines);\n      }).catch(err => console.error(\"Error fetching flights:\", err));\n    }\n  }, [user]);\n\n  // --- Element Creation ---\n  const createElement = useCallback((type, initialProps = {}) => {\n    if (!containerRef.current) return null;\n    const containerWidth = containerRef.current.offsetWidth;\n    const baseProps = {\n      id: Date.now() + Math.random(),\n      type: type,\n      x: getRandom(0, containerWidth),\n      y: -60,\n      vx: getRandom(-0.2, 0.2),\n      // Reduced horizontal drift\n      vy: getRandom(0.05, 0.3),\n      // <<< REDUCED initial vertical speed\n      rotation: getRandom(0, 360),\n      rotationSpeed: getRandom(-0.5, 0.5),\n      // Slower rotation\n      opacity: 1,\n      isThrown: false,\n      createdAt: Date.now(),\n      ...initialProps\n    };\n    switch (type) {\n      case 'snowflake':\n        return {\n          ...baseProps,\n          src: SNOWFLAKE_SRC,\n          size: getRandom(15, 25)\n        };\n      case 'snowball':\n        // Snowballs start with slightly more downward velocity\n        return {\n          ...baseProps,\n          src: SNOWBALL_SRC,\n          size: getRandom(25, 35),\n          vy: getRandom(0.3, 0.6)\n        };\n      case 'snowman':\n        return {\n          ...baseProps,\n          src: SNOWMAN_SRCS[Math.floor(Math.random() * SNOWMAN_SRCS.length)],\n          size: getRandom(45, 60),\n          vy: 0,\n          vx: 0,\n          rotationSpeed: 0,\n          isStatic: true\n        };\n      default:\n        return null;\n    }\n  }, []);\n  const addSnowflake = useCallback(() => {\n    const newFlake = createElement('snowflake');\n    if (newFlake) {\n      setElements(prev => [...prev, newFlake]);\n    }\n  }, [createElement]);\n\n  // --- Collision and Combination Logic (Keep as before) ---\n  const handleCollisions = currentElements => {\n    let newElements = [...currentElements];\n    const combinedIds = new Set();\n\n    // Snowflake -> Snowball\n    for (let i = 0; i < newElements.length; i++) {\n      if (combinedIds.has(newElements[i].id) || newElements[i].type !== 'snowflake') continue;\n      for (let j = i + 1; j < newElements.length; j++) {\n        if (combinedIds.has(newElements[j].id) || newElements[j].type !== 'snowflake') continue;\n        const dSq = distSq(newElements[i].x, newElements[i].y, newElements[j].x, newElements[j].y);\n        if (dSq < SNOWFLAKE_COMBINE_DIST ** 2) {\n          const newSnowball = createElement('snowball', {\n            x: (newElements[i].x + newElements[j].x) / 2,\n            y: (newElements[i].y + newElements[j].y) / 2,\n            vx: (newElements[i].vx + newElements[j].vx) / 2,\n            vy: (newElements[i].vy + newElements[j].vy) / 2\n          });\n          if (newSnowball) {\n            newElements.push(newSnowball);\n            combinedIds.add(newElements[i].id);\n            combinedIds.add(newElements[j].id);\n            break;\n          }\n        }\n      }\n    }\n    // Snowball -> Snowman\n    for (let i = 0; i < newElements.length; i++) {\n      if (combinedIds.has(newElements[i].id) || newElements[i].type !== 'snowball' || newElements[i].isThrown) continue;\n      for (let j = i + 1; j < newElements.length; j++) {\n        if (combinedIds.has(newElements[j].id) || newElements[j].type !== 'snowball' || newElements[j].isThrown) continue;\n        const dSq = distSq(newElements[i].x, newElements[i].y, newElements[j].x, newElements[j].y);\n        if (dSq < SNOWBALL_COMBINE_DIST ** 2) {\n          const newSnowman = createElement('snowman', {\n            x: (newElements[i].x + newElements[j].x) / 2,\n            y: (newElements[i].y + newElements[j].y) / 2\n          });\n          if (newSnowman) {\n            newElements.push(newSnowman);\n            combinedIds.add(newElements[i].id);\n            combinedIds.add(newElements[j].id);\n            break;\n          }\n        }\n      }\n    }\n    return newElements.filter(el => !combinedIds.has(el.id));\n  };\n\n  // --- Target Logic (Keep as before, maybe adjust respawn) ---\n  const updateTarget = currentTarget => {\n    if (!containerRef.current) return currentTarget;\n    const containerWidth = containerRef.current.offsetWidth;\n    let {\n      x,\n      y,\n      vx,\n      isHit,\n      hitTime,\n      size\n    } = currentTarget;\n    if (isHit) {\n      if (Date.now() - hitTime > 800) {\n        // Faster respawn\n        return {\n          ...currentTarget,\n          isHit: false,\n          x: getRandom(50, containerWidth - 100),\n          y: getRandom(50, 150),\n          size: 60\n        };\n      } else {\n        // Shrink faster\n        return {\n          ...currentTarget,\n          size: size * 0.95\n        };\n      }\n    }\n    let nextX = x + vx;\n    if (nextX <= 0 || nextX >= containerWidth - size) {\n      vx = -vx;\n      nextX = x + vx;\n    }\n    return {\n      ...currentTarget,\n      x: nextX,\n      vx: vx\n    };\n  };\n\n  // --- Main Animation Loop ---\n  const animateElements = useCallback(() => {\n    if (!containerRef.current) {\n      animationFrameId.current = requestAnimationFrame(animateElements);\n      return;\n    }\n    const containerWidth = containerRef.current.offsetWidth;\n    const containerHeight = window.innerHeight;\n\n    // 1. Update Target\n    setTarget(prevTarget => updateTarget(prevTarget));\n\n    // 2. Update Elements\n    setElements(prevElements => {\n      let updatedElements = prevElements.map(el => {\n        // Skip held element physics\n        if (heldElement && heldElement.id === el.id) return el;\n\n        // Mouse Interaction (Push)\n        let forceX = 0;\n        let forceY = 0;\n        // Apply push to snowflakes AND non-held/non-thrown snowballs\n        if ((el.type === 'snowflake' || el.type === 'snowball' && !el.isThrown) && !el.isStatic) {\n          const dx = el.x + el.size / 2 - mousePos.current.x; // Check from center\n          const dy = el.y + el.size / 2 - mousePos.current.y;\n          const dist = Math.sqrt(dx * dx + dy * dy);\n          if (dist < INTERACTION_RADIUS && dist > 0) {\n            const force = (1 - dist / INTERACTION_RADIUS) * MOUSE_PUSH_FORCE;\n            forceX = dx / dist * force;\n            forceY = dy / dist * force;\n          }\n        }\n\n        // Apply Physics\n        let nextVx = el.vx * 0.99 + forceX; // Add slight air drag + push\n        let nextVy = el.vy * 0.99 + forceY; // Add slight air drag + push\n\n        if (!el.isStatic && !el.isThrown) {\n          nextVy += GRAVITY; // Apply gravity only if falling naturally\n        }\n        let nextX = el.x + nextVx;\n        let nextY = el.y + nextVy;\n        let nextRotation = el.rotation + el.rotationSpeed;\n\n        // Target Hit Check (only for thrown snowballs)\n        if (el.type === 'snowball' && el.isThrown && !target.isHit) {\n          const targetCenterX = target.x + target.size / 2;\n          const targetCenterY = target.y + target.size / 2;\n          const ballCenterX = nextX + el.size / 2;\n          const ballCenterY = nextY + el.size / 2;\n          const dSq = distSq(ballCenterX, ballCenterY, targetCenterX, targetCenterY);\n          // Adjusted hit radius check\n          if (dSq < (target.size * 0.4 + el.size * 0.4) ** 2) {\n            setTarget(t => ({\n              ...t,\n              isHit: true,\n              hitTime: Date.now()\n            }));\n            return null; // Remove the snowball\n          }\n        }\n\n        // Remove if off-screen\n        if (nextY > containerHeight + el.size || nextX < -el.size || nextX > containerWidth + el.size) {\n          return null;\n        }\n        return {\n          ...el,\n          x: nextX,\n          y: nextY,\n          vx: nextVx,\n          vy: nextVy,\n          rotation: nextRotation\n        };\n      }).filter(Boolean);\n\n      // 3. Handle Collisions / Combinations\n      updatedElements = handleCollisions(updatedElements);\n      return updatedElements;\n    });\n    animationFrameId.current = requestAnimationFrame(animateElements);\n  }, [handleCollisions, heldElement, target.isHit, target.x, target.y, target.size]);\n\n  // --- Mouse Event Handlers (Keep as before, maybe adjust throw speed) ---\n  const handleMouseDown = useCallback(event => {\n    const clickX = event.clientX;\n    const clickY = event.clientY;\n    let clickedSnowball = null;\n    let minDistSq = SNOWBALL_PICKUP_DIST ** 2;\n    elements.forEach(el => {\n      if (el.type === 'snowball' && !el.isThrown) {\n        const dSq = distSq(clickX, clickY, el.x + el.size / 2, el.y + el.size / 2);\n        if (dSq < minDistSq) {\n          minDistSq = dSq;\n          clickedSnowball = el;\n        }\n      }\n    });\n    if (clickedSnowball) {\n      setHeldElement({\n        id: clickedSnowball.id,\n        type: 'snowball',\n        offsetX: clickX - (clickedSnowball.x + clickedSnowball.size / 2),\n        offsetY: clickY - (clickedSnowball.y + clickedSnowball.size / 2)\n      });\n      setElements(prev => [...prev.filter(el => el.id !== clickedSnowball.id), clickedSnowball]);\n    }\n  }, [elements]);\n  const handleMouseMove = useCallback(event => {\n    const currentX = event.clientX;\n    const currentY = event.clientY;\n    mousePos.current = {\n      x: currentX,\n      y: currentY\n    };\n    if (heldElement) {\n      setElements(prevElements => prevElements.map(el => {\n        if (el.id === heldElement.id) {\n          return {\n            ...el,\n            x: currentX - heldElement.offsetX - el.size / 2,\n            y: currentY - heldElement.offsetY - el.size / 2,\n            vx: 0,\n            vy: 0\n          };\n        }\n        return el;\n      }));\n    }\n  }, [heldElement]);\n  const handleMouseUp = useCallback(event => {\n    if (heldElement) {\n      const thrownElement = elements.find(el => el.id === heldElement.id);\n      if (thrownElement) {\n        const aimX = target.x + target.size / 2;\n        const aimY = target.y + target.size / 2;\n        const throwDx = aimX - (thrownElement.x + thrownElement.size / 2);\n        const throwDy = aimY - (thrownElement.y + thrownElement.size / 2);\n        const throwDist = Math.sqrt(throwDx * throwDx + throwDy * throwDy);\n        const speed = SNOWBALL_THROW_SPEED; // Use constant\n        const throwVx = throwDist > 0 ? throwDx / throwDist * speed : 0;\n        const throwVy = throwDist > 0 ? throwDy / throwDist * speed : 0;\n        setElements(prevElements => prevElements.map(el => el.id === heldElement.id ? {\n          ...el,\n          isThrown: true,\n          vx: throwVx,\n          vy: throwVy\n        } : el));\n      }\n      setHeldElement(null);\n    }\n  }, [heldElement, elements, target.x, target.y, target.size]);\n\n  // --- Effects (Keep structure, adjust initial creation/timing) ---\n  useEffect(() => {\n    // Create initial snowflakes\n    for (let i = 0; i < 10; i++) {\n      // Fewer initial flakes\n      const flake = createElement('snowflake', {\n        y: getRandom(0, window.innerHeight * 0.7)\n      });\n      if (flake) setElements(prev => [...prev, flake]);\n    }\n    const intervalId = setInterval(addSnowflake, 1200); // Add new snowflakes slower\n    return () => clearInterval(intervalId);\n  }, [addSnowflake, createElement]);\n  useEffect(() => {\n    // Animation loop\n    animationFrameId.current = requestAnimationFrame(animateElements);\n    return () => {\n      if (animationFrameId.current) cancelAnimationFrame(animationFrameId.current);\n    };\n  }, [animateElements]);\n  useEffect(() => {\n    // Mouse listeners\n    window.addEventListener('mousedown', handleMouseDown);\n    window.addEventListener('mousemove', handleMouseMove);\n    window.addEventListener('mouseup', handleMouseUp);\n    return () => {\n      window.removeEventListener('mousedown', handleMouseDown);\n      window.removeEventListener('mousemove', handleMouseMove);\n      window.removeEventListener('mouseup', handleMouseUp);\n    };\n  }, [handleMouseDown, handleMouseMove, handleMouseUp]);\n\n  // --- Original UI Handlers (Keep as before) ---\n  const handleAirlineClick = airline => {\n    /* ... */navigate('/locations', {\n      state: {\n        airline,\n        flights: originalFlights.filter(f => f.airline === airline),\n        user\n      }\n    });\n  };\n  const handleDashboardClick = () => {\n    /* ... */navigate('/dashboard', {\n      state: {\n        flights: originalFlights,\n        user\n      }\n    });\n  };\n\n  // --- Render (Keep structure as before) ---\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flights-page-wrapper winter-theme\",\n    ref: containerRef,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"winter-elements-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: TARGET_SRC,\n        alt: \"Target\",\n        className: `winter-target ${target.isHit ? 'hit' : ''}`,\n        style: {\n          left: `${target.x}px`,\n          top: `${target.y}px`,\n          width: `${target.size}px`,\n          height: `${target.size}px`\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 9\n      }, this), elements.map(el => /*#__PURE__*/_jsxDEV(\"img\", {\n        src: el.src,\n        alt: el.type,\n        className: `winter-element ${el.type} ${(heldElement === null || heldElement === void 0 ? void 0 : heldElement.id) === el.id ? 'held' : ''}`,\n        style: {\n          left: `${el.x}px`,\n          top: `${el.y}px`,\n          width: `${el.size}px`,\n          height: `${el.size}px`,\n          transform: `rotate(${el.rotation}deg)`,\n          opacity: el.opacity,\n          zIndex: (heldElement === null || heldElement === void 0 ? void 0 : heldElement.id) === el.id ? 15 : el.type === 'snowball' ? 10 : 5\n        }\n      }, el.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flights-ui-overlay\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Flights for \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: (user === null || user === void 0 ? void 0 : (_user$company2 = user.company) === null || _user$company2 === void 0 ? void 0 : _user$company2.name) || \"Your Company\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flights-buttons-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleDashboardClick,\n          className: \"flights-button dashboard\",\n          children: \"\\uD83D\\uDCCA Go to Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Select an Airline:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"airline-buttons\",\n          children: airlines.length > 0 ? airlines.map((airline, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleAirlineClick(airline),\n            className: \"flights-button airline\",\n            children: airline\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 73\n          }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Loading airlines...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 200\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 316,\n    columnNumber: 5\n  }, this);\n}\n_s(Flights, \"ujZOQdD6x6M1Ky4evDzseJkhXjo=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = Flights;\nexport default Flights;\nvar _c;\n$RefreshReg$(_c, \"Flights\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","useLocation","useNavigate","jsxDEV","_jsxDEV","SNOWFLAKE_SRC","SNOWBALL_SRC","SNOWMAN_SRCS","TARGET_SRC","GRAVITY","SNOWFLAKE_COMBINE_DIST","SNOWBALL_COMBINE_DIST","TARGET_HIT_DIST","INTERACTION_RADIUS","MOUSE_PUSH_FORCE","SNOWBALL_PICKUP_DIST","SNOWBALL_THROW_SPEED","getRandom","min","max","Math","random","distSq","x1","y1","x2","y2","Flights","_s","_location$state","_user$company2","location","navigate","user","state","originalFlights","setOriginalFlights","airlines","setAirlines","elements","setElements","target","setTarget","x","y","vx","size","isHit","hitTime","heldElement","setHeldElement","containerRef","mousePos","window","innerWidth","innerHeight","animationFrameId","_user$company","company","id","fetch","then","res","json","data","uniqueAirlines","Set","map","f","airline","catch","err","console","error","createElement","type","initialProps","current","containerWidth","offsetWidth","baseProps","Date","now","vy","rotation","rotationSpeed","opacity","isThrown","createdAt","src","floor","length","isStatic","addSnowflake","newFlake","prev","handleCollisions","currentElements","newElements","combinedIds","i","has","j","dSq","newSnowball","push","add","newSnowman","filter","el","updateTarget","currentTarget","nextX","animateElements","requestAnimationFrame","containerHeight","prevTarget","prevElements","updatedElements","forceX","forceY","dx","dy","dist","sqrt","force","nextVx","nextVy","nextY","nextRotation","targetCenterX","targetCenterY","ballCenterX","ballCenterY","t","Boolean","handleMouseDown","event","clickX","clientX","clickY","clientY","clickedSnowball","minDistSq","forEach","offsetX","offsetY","handleMouseMove","currentX","currentY","handleMouseUp","thrownElement","find","aimX","aimY","throwDx","throwDy","throwDist","speed","throwVx","throwVy","flake","intervalId","setInterval","clearInterval","cancelAnimationFrame","addEventListener","removeEventListener","handleAirlineClick","flights","handleDashboardClick","className","ref","children","alt","style","left","top","width","height","fileName","_jsxFileName","lineNumber","columnNumber","transform","zIndex","name","onClick","index","_c","$RefreshReg$"],"sources":["C:/Users/strik/Downloads/cafecoffee/corporate-travel/frontend/src/components/Flights.js"],"sourcesContent":["// src/components/Flights.js\r\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport './Flights.css'; // We'll create this new CSS file\r\n\r\n// --- Constants ---\r\nconst SNOWFLAKE_SRC = '/images/snowflake_615669.png';\r\nconst SNOWBALL_SRC = '/images/snowball.png';\r\nconst SNOWMAN_SRCS = ['/images/cold_13792674.png', '/images/snowman_2469233.png'];\r\nconst TARGET_SRC = '/images/target_610064.png';\r\n\r\n// --- Physics Adjustments ---\r\nconst GRAVITY = 0.01; // <<< REDUCED gravity significantly\r\nconst SNOWFLAKE_COMBINE_DIST = 25;\r\nconst SNOWBALL_COMBINE_DIST = 35;\r\nconst TARGET_HIT_DIST = 40;\r\nconst INTERACTION_RADIUS = 130; // Slightly larger interaction radius\r\nconst MOUSE_PUSH_FORCE = 0.25;   // <<< INCREASED mouse push force\r\nconst SNOWBALL_PICKUP_DIST = 30;\r\nconst SNOWBALL_THROW_SPEED = 7; // Renamed for clarity\r\n\r\n// --- Helper ---\r\nconst getRandom = (min, max) => Math.random() * (max - min) + min;\r\nconst distSq = (x1, y1, x2, y2) => (x1 - x2) ** 2 + (y1 - y2) ** 2;\r\n\r\nfunction Flights() {\r\n  // --- Original State & Hooks ---\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const user = location.state?.user;\r\n  const [originalFlights, setOriginalFlights] = useState([]);\r\n  const [airlines, setAirlines] = useState([]);\r\n\r\n  // --- Interactive Elements State ---\r\n  const [elements, setElements] = useState([]);\r\n  const [target, setTarget] = useState({\r\n    x: 150, y: 100, vx: 1.2, size: 60, isHit: false, hitTime: 0, // Slightly slower target\r\n  });\r\n  const [heldElement, setHeldElement] = useState(null);\r\n  const containerRef = useRef(null);\r\n  const mousePos = useRef({ x: window.innerWidth / 2, y: window.innerHeight / 2 });\r\n  const animationFrameId = useRef(null);\r\n\r\n  // --- Data Fetching (Keep as before) ---\r\n  useEffect(() => {\r\n    if (user?.company?.id) {\r\n      fetch(`http://localhost:5000/api/flights?company_id=${user.company.id}`)\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          setOriginalFlights(data);\r\n          const uniqueAirlines = [...new Set(data.map((f) => f.airline))];\r\n          setAirlines(uniqueAirlines);\r\n        })\r\n        .catch((err) => console.error(\"Error fetching flights:\", err));\r\n    }\r\n  }, [user]);\r\n\r\n  // --- Element Creation ---\r\n  const createElement = useCallback((type, initialProps = {}) => {\r\n    if (!containerRef.current) return null;\r\n    const containerWidth = containerRef.current.offsetWidth;\r\n    const baseProps = {\r\n      id: Date.now() + Math.random(),\r\n      type: type,\r\n      x: getRandom(0, containerWidth),\r\n      y: -60,\r\n      vx: getRandom(-0.2, 0.2), // Reduced horizontal drift\r\n      vy: getRandom(0.05, 0.3), // <<< REDUCED initial vertical speed\r\n      rotation: getRandom(0, 360),\r\n      rotationSpeed: getRandom(-0.5, 0.5), // Slower rotation\r\n      opacity: 1,\r\n      isThrown: false,\r\n      createdAt: Date.now(),\r\n      ...initialProps,\r\n    };\r\n\r\n    switch (type) {\r\n      case 'snowflake':\r\n        return { ...baseProps, src: SNOWFLAKE_SRC, size: getRandom(15, 25) };\r\n      case 'snowball':\r\n        // Snowballs start with slightly more downward velocity\r\n        return { ...baseProps, src: SNOWBALL_SRC, size: getRandom(25, 35), vy: getRandom(0.3, 0.6) };\r\n      case 'snowman':\r\n        return {\r\n          ...baseProps,\r\n          src: SNOWMAN_SRCS[Math.floor(Math.random() * SNOWMAN_SRCS.length)],\r\n          size: getRandom(45, 60),\r\n          vy: 0, vx: 0, rotationSpeed: 0, isStatic: true,\r\n        };\r\n      default: return null;\r\n    }\r\n  }, []);\r\n\r\n  const addSnowflake = useCallback(() => {\r\n    const newFlake = createElement('snowflake');\r\n    if (newFlake) {\r\n      setElements((prev) => [...prev, newFlake]);\r\n    }\r\n  }, [createElement]);\r\n\r\n  // --- Collision and Combination Logic (Keep as before) ---\r\n  const handleCollisions = (currentElements) => {\r\n    let newElements = [...currentElements];\r\n    const combinedIds = new Set();\r\n\r\n    // Snowflake -> Snowball\r\n    for (let i = 0; i < newElements.length; i++) {\r\n      if (combinedIds.has(newElements[i].id) || newElements[i].type !== 'snowflake') continue;\r\n      for (let j = i + 1; j < newElements.length; j++) {\r\n        if (combinedIds.has(newElements[j].id) || newElements[j].type !== 'snowflake') continue;\r\n        const dSq = distSq(newElements[i].x, newElements[i].y, newElements[j].x, newElements[j].y);\r\n        if (dSq < SNOWFLAKE_COMBINE_DIST ** 2) {\r\n          const newSnowball = createElement('snowball', {\r\n             x: (newElements[i].x + newElements[j].x) / 2, y: (newElements[i].y + newElements[j].y) / 2,\r\n             vx: (newElements[i].vx + newElements[j].vx) / 2, vy: (newElements[i].vy + newElements[j].vy) / 2,\r\n          });\r\n          if (newSnowball) { newElements.push(newSnowball); combinedIds.add(newElements[i].id); combinedIds.add(newElements[j].id); break; }\r\n        }\r\n      }\r\n    }\r\n    // Snowball -> Snowman\r\n    for (let i = 0; i < newElements.length; i++) {\r\n      if (combinedIds.has(newElements[i].id) || newElements[i].type !== 'snowball' || newElements[i].isThrown) continue;\r\n      for (let j = i + 1; j < newElements.length; j++) {\r\n         if (combinedIds.has(newElements[j].id) || newElements[j].type !== 'snowball' || newElements[j].isThrown) continue;\r\n         const dSq = distSq(newElements[i].x, newElements[i].y, newElements[j].x, newElements[j].y);\r\n         if (dSq < SNOWBALL_COMBINE_DIST ** 2) {\r\n           const newSnowman = createElement('snowman', { x: (newElements[i].x + newElements[j].x) / 2, y: (newElements[i].y + newElements[j].y) / 2 });\r\n           if (newSnowman) { newElements.push(newSnowman); combinedIds.add(newElements[i].id); combinedIds.add(newElements[j].id); break; }\r\n         }\r\n      }\r\n    }\r\n    return newElements.filter(el => !combinedIds.has(el.id));\r\n  };\r\n\r\n  // --- Target Logic (Keep as before, maybe adjust respawn) ---\r\n   const updateTarget = (currentTarget) => {\r\n       if (!containerRef.current) return currentTarget;\r\n       const containerWidth = containerRef.current.offsetWidth;\r\n       let { x, y, vx, isHit, hitTime, size } = currentTarget;\r\n\r\n       if (isHit) {\r\n           if (Date.now() - hitTime > 800) { // Faster respawn\r\n               return { ...currentTarget, isHit: false, x: getRandom(50, containerWidth - 100), y: getRandom(50, 150), size: 60 };\r\n           } else {\r\n                // Shrink faster\r\n                return {...currentTarget, size: size * 0.95};\r\n           }\r\n       }\r\n       let nextX = x + vx;\r\n       if (nextX <= 0 || nextX >= containerWidth - size) {\r\n           vx = -vx; nextX = x + vx;\r\n       }\r\n       return { ...currentTarget, x: nextX, vx: vx };\r\n   };\r\n\r\n  // --- Main Animation Loop ---\r\n  const animateElements = useCallback(() => {\r\n      if (!containerRef.current) { animationFrameId.current = requestAnimationFrame(animateElements); return; }\r\n      const containerWidth = containerRef.current.offsetWidth;\r\n      const containerHeight = window.innerHeight;\r\n\r\n      // 1. Update Target\r\n      setTarget(prevTarget => updateTarget(prevTarget));\r\n\r\n      // 2. Update Elements\r\n      setElements((prevElements) => {\r\n        let updatedElements = prevElements\r\n          .map((el) => {\r\n            // Skip held element physics\r\n            if (heldElement && heldElement.id === el.id) return el;\r\n\r\n            // Mouse Interaction (Push)\r\n            let forceX = 0;\r\n            let forceY = 0;\r\n            // Apply push to snowflakes AND non-held/non-thrown snowballs\r\n            if ((el.type === 'snowflake' || (el.type === 'snowball' && !el.isThrown)) && !el.isStatic) {\r\n                 const dx = el.x + el.size / 2 - mousePos.current.x; // Check from center\r\n                 const dy = el.y + el.size / 2 - mousePos.current.y;\r\n                 const dist = Math.sqrt(dx * dx + dy * dy);\r\n                 if (dist < INTERACTION_RADIUS && dist > 0) {\r\n                     const force = (1 - dist / INTERACTION_RADIUS) * MOUSE_PUSH_FORCE;\r\n                     forceX = (dx / dist) * force;\r\n                     forceY = (dy / dist) * force;\r\n                 }\r\n            }\r\n\r\n            // Apply Physics\r\n            let nextVx = el.vx * 0.99 + forceX; // Add slight air drag + push\r\n            let nextVy = el.vy * 0.99 + forceY; // Add slight air drag + push\r\n\r\n            if (!el.isStatic && !el.isThrown) {\r\n                nextVy += GRAVITY; // Apply gravity only if falling naturally\r\n            }\r\n\r\n            let nextX = el.x + nextVx;\r\n            let nextY = el.y + nextVy;\r\n            let nextRotation = el.rotation + el.rotationSpeed;\r\n\r\n             // Target Hit Check (only for thrown snowballs)\r\n             if (el.type === 'snowball' && el.isThrown && !target.isHit) {\r\n                const targetCenterX = target.x + target.size / 2;\r\n                const targetCenterY = target.y + target.size / 2;\r\n                const ballCenterX = nextX + el.size / 2;\r\n                const ballCenterY = nextY + el.size / 2;\r\n                const dSq = distSq(ballCenterX, ballCenterY, targetCenterX, targetCenterY);\r\n                // Adjusted hit radius check\r\n                if (dSq < ((target.size * 0.4) + (el.size * 0.4))**2 ) {\r\n                     setTarget(t => ({ ...t, isHit: true, hitTime: Date.now() }));\r\n                     return null; // Remove the snowball\r\n                 }\r\n             }\r\n\r\n            // Remove if off-screen\r\n            if (nextY > containerHeight + el.size || nextX < -el.size || nextX > containerWidth + el.size) {\r\n              return null;\r\n            }\r\n\r\n            return { ...el, x: nextX, y: nextY, vx: nextVx, vy: nextVy, rotation: nextRotation };\r\n          })\r\n          .filter(Boolean);\r\n\r\n          // 3. Handle Collisions / Combinations\r\n          updatedElements = handleCollisions(updatedElements);\r\n\r\n          return updatedElements;\r\n      });\r\n\r\n      animationFrameId.current = requestAnimationFrame(animateElements);\r\n  }, [handleCollisions, heldElement, target.isHit, target.x, target.y, target.size]);\r\n\r\n  // --- Mouse Event Handlers (Keep as before, maybe adjust throw speed) ---\r\n   const handleMouseDown = useCallback((event) => {\r\n        const clickX = event.clientX; const clickY = event.clientY;\r\n        let clickedSnowball = null; let minDistSq = SNOWBALL_PICKUP_DIST ** 2;\r\n        elements.forEach(el => {\r\n            if (el.type === 'snowball' && !el.isThrown) {\r\n                const dSq = distSq(clickX, clickY, el.x + el.size / 2, el.y + el.size / 2);\r\n                if (dSq < minDistSq) { minDistSq = dSq; clickedSnowball = el; }\r\n            }\r\n        });\r\n        if (clickedSnowball) {\r\n            setHeldElement({\r\n                id: clickedSnowball.id, type: 'snowball',\r\n                offsetX: clickX - (clickedSnowball.x + clickedSnowball.size / 2),\r\n                offsetY: clickY - (clickedSnowball.y + clickedSnowball.size / 2),\r\n            });\r\n            setElements(prev => [ ...prev.filter(el => el.id !== clickedSnowball.id), clickedSnowball ]);\r\n        }\r\n   }, [elements]);\r\n\r\n   const handleMouseMove = useCallback((event) => {\r\n       const currentX = event.clientX; const currentY = event.clientY;\r\n       mousePos.current = { x: currentX, y: currentY };\r\n       if (heldElement) {\r\n           setElements(prevElements => prevElements.map(el => {\r\n               if (el.id === heldElement.id) {\r\n                   return { ...el, x: currentX - heldElement.offsetX - el.size / 2, y: currentY - heldElement.offsetY - el.size / 2, vx: 0, vy: 0 };\r\n               } return el;\r\n           }));\r\n       }\r\n   }, [heldElement]);\r\n\r\n   const handleMouseUp = useCallback((event) => {\r\n       if (heldElement) {\r\n           const thrownElement = elements.find(el => el.id === heldElement.id);\r\n           if (thrownElement) {\r\n               const aimX = target.x + target.size / 2; const aimY = target.y + target.size / 2;\r\n               const throwDx = aimX - (thrownElement.x + thrownElement.size / 2); const throwDy = aimY - (thrownElement.y + thrownElement.size / 2);\r\n               const throwDist = Math.sqrt(throwDx*throwDx + throwDy*throwDy);\r\n               const speed = SNOWBALL_THROW_SPEED; // Use constant\r\n               const throwVx = throwDist > 0 ? (throwDx / throwDist) * speed : 0;\r\n               const throwVy = throwDist > 0 ? (throwDy / throwDist) * speed : 0;\r\n               setElements(prevElements => prevElements.map(el =>\r\n                   el.id === heldElement.id ? { ...el, isThrown: true, vx: throwVx, vy: throwVy } : el\r\n               ));\r\n           }\r\n           setHeldElement(null);\r\n       }\r\n   }, [heldElement, elements, target.x, target.y, target.size]);\r\n\r\n\r\n  // --- Effects (Keep structure, adjust initial creation/timing) ---\r\n  useEffect(() => { // Create initial snowflakes\r\n    for (let i = 0; i < 10; i++) { // Fewer initial flakes\r\n        const flake = createElement('snowflake', {y: getRandom(0, window.innerHeight * 0.7)});\r\n         if(flake) setElements(prev => [...prev, flake]);\r\n    }\r\n    const intervalId = setInterval(addSnowflake, 1200); // Add new snowflakes slower\r\n    return () => clearInterval(intervalId);\r\n  }, [addSnowflake, createElement]);\r\n\r\n  useEffect(() => { // Animation loop\r\n    animationFrameId.current = requestAnimationFrame(animateElements);\r\n    return () => { if (animationFrameId.current) cancelAnimationFrame(animationFrameId.current); };\r\n  }, [animateElements]);\r\n\r\n   useEffect(() => { // Mouse listeners\r\n       window.addEventListener('mousedown', handleMouseDown);\r\n       window.addEventListener('mousemove', handleMouseMove);\r\n       window.addEventListener('mouseup', handleMouseUp);\r\n       return () => {\r\n           window.removeEventListener('mousedown', handleMouseDown);\r\n           window.removeEventListener('mousemove', handleMouseMove);\r\n           window.removeEventListener('mouseup', handleMouseUp);\r\n       };\r\n   }, [handleMouseDown, handleMouseMove, handleMouseUp]);\r\n\r\n\r\n  // --- Original UI Handlers (Keep as before) ---\r\n  const handleAirlineClick = (airline) => { /* ... */ navigate('/locations', { state: { airline, flights: originalFlights.filter(f => f.airline === airline), user } }); };\r\n  const handleDashboardClick = () => { /* ... */ navigate('/dashboard', { state: { flights: originalFlights, user } }); };\r\n\r\n  // --- Render (Keep structure as before) ---\r\n  return (\r\n    <div className=\"flights-page-wrapper winter-theme\" ref={containerRef}>\r\n      {/* Animated elements container */}\r\n      <div className=\"winter-elements-container\">\r\n        {/* Target */}\r\n        <img src={TARGET_SRC} alt=\"Target\" className={`winter-target ${target.isHit ? 'hit' : ''}`} style={{ left: `${target.x}px`, top: `${target.y}px`, width: `${target.size}px`, height: `${target.size}px` }} />\r\n        {/* Snowflakes, Snowballs, Snowmen */}\r\n        {elements.map((el) => (\r\n          <img key={el.id} src={el.src} alt={el.type} className={`winter-element ${el.type} ${heldElement?.id === el.id ? 'held' : ''}`} style={{ left: `${el.x}px`, top: `${el.y}px`, width: `${el.size}px`, height: `${el.size}px`, transform: `rotate(${el.rotation}deg)`, opacity: el.opacity, zIndex: heldElement?.id === el.id ? 15 : (el.type === 'snowball' ? 10 : 5) }} />\r\n        ))}\r\n      </div>\r\n\r\n      {/* Original UI Elements */}\r\n      <div className=\"flights-ui-overlay\">\r\n        <h3>Flights for <strong>{user?.company?.name || \"Your Company\"}</strong></h3>\r\n        <div className=\"flights-buttons-container\">\r\n          <button onClick={handleDashboardClick} className=\"flights-button dashboard\">📊 Go to Dashboard</button>\r\n          <h4>Select an Airline:</h4>\r\n          <div className=\"airline-buttons\">\r\n            {airlines.length > 0 ? ( airlines.map((airline, index) => ( <button key={index} onClick={() => handleAirlineClick(airline)} className=\"flights-button airline\">{airline}</button> )) ) : ( <p>Loading airlines...</p> )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Flights;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}