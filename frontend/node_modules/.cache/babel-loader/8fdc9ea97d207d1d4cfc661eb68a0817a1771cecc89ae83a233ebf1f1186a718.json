{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\strik\\\\Downloads\\\\cafecoffee\\\\corporate-travel\\\\frontend\\\\src\\\\components\\\\UploadVisa.js\",\n  _s = $RefreshSig$();\n// src/components/UploadVisa.js\nimport React, { useState, useEffect, useMemo } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport './UploadVisa.css'; // Import the CSS file\n\n// --- Quiz Data ---\n// (Remember the questions you generated previously)\n// --- Quiz Data ---\n// (Remember the questions you generated previously)\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst quizQuestions = [{\n  q: \"The concept of 'umami,' the fifth basic taste, was scientifically identified by a researcher studying a specific type of seaweed broth fundamental to which cuisine?\",\n  a: 'japan'\n}, {\n  q: \"Which cuisine features traditional agricultural and culinary practices so significant they were inscribed on UNESCO's Representative List of the Intangible Cultural Heritage of Humanity?\",\n  a: 'mexico'\n}, {\n  q: \"Despite being iconic today, tomatoes were a New World import and only became widely integrated into the sauces of this cuisine centuries after their introduction to Europe. Which cuisine is it?\",\n  a: 'italy'\n}, {\n  q: \"Due to deep-rooted religious and cultural factors, which cuisine boasts arguably the most extensive and complex array of vegetarian dishes as a core part of its tradition, rather than just an alternative?\",\n  a: 'india'\n}, {\n  q: \"In which cuisine did a globally popular dish involving rice and fish *originally* develop primarily as a method for preserving the fish through fermentation, where the rice was often discarded?\",\n  a: 'japan'\n}, {\n  q: \"This cuisine gave the world foundational ingredients like vanilla, chocolate (cacao), and avocados, which originated in its region. Which cuisine is it?\",\n  a: 'mexico'\n}, {\n  q: \"The careful practice of 'blooming' or toasting whole and ground spices in hot oil or ghee to release their essential oils is a foundational flavour-building technique in which cuisine?\",\n  a: 'india'\n}, {\n  q: \"The sheer variety of pasta shapes (estimated over 350) found in this cuisine isn't just for show; many specific shapes evolved deliberately to better hold or pair with particular types of sauces or ingredients. Which cuisine is this characteristic of?\",\n  a: 'italy'\n}, {\n  q: \"A traditional process called nixtamalization, involving soaking maize (corn) in an alkaline solution, is crucial for unlocking nutrients and creating the doughs essential to which cuisine?\",\n  a: 'mexico'\n}, {\n  q: \"While generalizations are often made, this European cuisine shows stark regional contrasts, for example, between northern areas favouring butter, risotto, and polenta, and southern areas favouring olive oil, dried pasta, and tomatoes. Which cuisine exhibits this strong regional divide?\",\n  a: 'italy'\n}, {\n  q: \"Which cuisine places a profound philosophical emphasis on *shun* (using ingredients at their peak seasonality) and *moritsuke* (the artful, aesthetic presentation of food)?\",\n  a: 'japan'\n}, {\n  q: \"Traveling across different states within this large country reveals dramatically different signature dishes and flavour profiles, heavily influenced by diverse climates, local agriculture, historical invasions (like Mughal), and religious dietary laws. Which cuisine is known for this vast internal diversity?\",\n  a: 'india'\n}];\nconst countryIcons = {\n  japan: '/images/castle.png',\n  mexico: '/images/chichen-itza.png',\n  italy: '/images/colosseum.png',\n  india: '/images/india-gate.png'\n};\n// --- End Quiz Data ---\n\nfunction UploadVisa() {\n  _s();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const {\n    user,\n    pendingBooking\n  } = location.state || {};\n\n  // Visa State\n  const [visaFile, setVisaFile] = useState(null);\n  const [isVerifying, setIsVerifying] = useState(false);\n  const [isBooking, setIsBooking] = useState(false);\n  const [message, setMessage] = useState('');\n  const [messageType, setMessageType] = useState(''); // 'success' or 'error'\n\n  // Quiz State\n  const [quizPassed, setQuizPassed] = useState(false); // Controls whether quiz or form is shown\n  const [currentQuestion, setCurrentQuestion] = useState(null);\n  const [quizIncorrectFlash, setQuizIncorrectFlash] = useState(false);\n\n  // Select a random question on component mount\n  useEffect(() => {\n    if (!quizPassed) {\n      const randomIndex = Math.floor(Math.random() * quizQuestions.length);\n      setCurrentQuestion(quizQuestions[randomIndex]);\n    }\n  }, [quizPassed]); // Re-run if quizPassed changes (though unlikely needed here)\n\n  // Memoize icon entries to prevent re-creation on every render\n  const iconEntries = useMemo(() => Object.entries(countryIcons), []);\n  const handleFileChange = e => {\n    setVisaFile(e.target.files[0]);\n    setMessage('');\n    setMessageType('');\n  };\n  const handleQuizAnswer = selectedCountryKey => {\n    if (!currentQuestion) return;\n    if (selectedCountryKey === currentQuestion.a) {\n      // Correct Answer\n      setQuizPassed(true);\n      setMessage('Correct! Please proceed with visa upload.');\n      setMessageType('success'); // Optional success message\n    } else {\n      // Incorrect Answer\n      setQuizIncorrectFlash(true);\n      setMessage('Incorrect answer! Refreshing...');\n      setMessageType('error');\n      setTimeout(() => {\n        window.location.reload(); // Refresh the page\n      }, 1200); // Delay for flash effect\n    }\n  };\n  const handleUploadAndBook = async e => {\n    e.preventDefault();\n    if (!quizPassed || !visaFile) {\n      setMessage(!quizPassed ? 'Complete the quiz first.' : 'Please select a visa file.');\n      setMessageType('error');\n      return;\n    }\n    setMessage('');\n    setMessageType('');\n    setIsVerifying(true);\n    const formData = new FormData();\n    formData.append('visa', visaFile);\n    formData.append('name', user.name);\n    formData.append('email', user.email);\n    formData.append('company', user.company.name);\n    try {\n      console.log(\"Verifying visa...\");\n      const verifyResponse = await axios.post('http://localhost:5000/api/verify-visa', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      setIsVerifying(false);\n      if (verifyResponse.data.status === 'success') {\n        setMessage('✅ Visa verified! Finalizing booking...');\n        setMessageType('success');\n        setIsBooking(true);\n        try {\n          console.log(\"Finalizing booking...\");\n          const bookResponse = await axios.post('http://localhost:5000/api/finalize-booking', pendingBooking);\n          setIsBooking(false);\n          if (bookResponse.data.status === 'success') {\n            setMessage(`✅ Booking confirmed! Seat: ${pendingBooking.seat_number}. Redirecting...`);\n            setMessageType('success');\n            setTimeout(() => navigate('/dashboard', {\n              state: {\n                user\n              }\n            }), 2500);\n          } else {\n            setMessage(`⚠️ Booking failed: ${bookResponse.data.message || 'Unknown error'}`);\n            setMessageType('error');\n          }\n        } catch (bookError) {\n          var _bookError$response, _bookError$response2, _bookError$response2$;\n          setIsBooking(false);\n          console.error(\"Booking error:\", ((_bookError$response = bookError.response) === null || _bookError$response === void 0 ? void 0 : _bookError$response.data) || bookError.message);\n          setMessage(`⚠️ Booking failed: ${((_bookError$response2 = bookError.response) === null || _bookError$response2 === void 0 ? void 0 : (_bookError$response2$ = _bookError$response2.data) === null || _bookError$response2$ === void 0 ? void 0 : _bookError$response2$.message) || 'Server error'}`);\n          setMessageType('error');\n        }\n      } else {\n        setMessage(`❌ Visa verification failed: ${verifyResponse.data.message || 'Details mismatch.'}`);\n        setMessageType('error');\n      }\n    } catch (verifyError) {\n      var _verifyError$response, _verifyError$response2, _verifyError$response3;\n      setIsVerifying(false);\n      console.error(\"Verification error:\", ((_verifyError$response = verifyError.response) === null || _verifyError$response === void 0 ? void 0 : _verifyError$response.data) || verifyError.message);\n      setMessage(`❌ Verification failed: ${((_verifyError$response2 = verifyError.response) === null || _verifyError$response2 === void 0 ? void 0 : (_verifyError$response3 = _verifyError$response2.data) === null || _verifyError$response3 === void 0 ? void 0 : _verifyError$response3.message) || 'Server error.'}`);\n      setMessageType('error');\n    }\n  };\n\n  // Derived loading state\n  const isLoading = isVerifying || isBooking || quizIncorrectFlash;\n\n  // Early return for missing data\n  if (!user || !pendingBooking) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"upload-visa-page\",\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"upload-visa-error-message\",\n        children: \"\\u274C Error: Missing user or booking information. Please start over.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('/'),\n        className: \"upload-visa-button go-home\",\n        children: \"Go Home\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 18\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }, this);\n  }\n  return (\n    /*#__PURE__*/\n    // Added a wrapper div with a specific class for scoping styles\n    _jsxDEV(\"div\", {\n      className: \"upload-visa-page\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"upload-visa-content-box\",\n        children: [!quizPassed && currentQuestion && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"upload-visa-quiz-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Food Trivia Challenge!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"upload-visa-quiz-question\",\n            children: currentQuestion.q\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `upload-visa-quiz-options ${quizIncorrectFlash ? 'incorrect-flash' : ''}`,\n            children: iconEntries.map(([key, iconPath]) => /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"upload-visa-country-icon-button\",\n              onClick: () => handleQuizAnswer(key),\n              disabled: quizIncorrectFlash // Disable while flashing/refreshing\n              ,\n              title: key.charAt(0).toUpperCase() + key.slice(1) // Tooltip for country name\n              ,\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: iconPath,\n                alt: key\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 37\n              }, this)\n            }, key, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 25\n          }, this), message && messageType === 'error' &&\n          /*#__PURE__*/\n          // Show temporary incorrect message\n          _jsxDEV(\"p\", {\n            className: `upload-visa-message ${messageType}`,\n            children: message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 21\n        }, this), quizPassed && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"upload-visa-form-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Upload Visa for Verification\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Great job on the quiz! Now, please upload your visa document to confirm:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"upload-visa-booking-details\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Flight:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 29\n            }, this), \" \", pendingBooking.airline, \" | \", pendingBooking.origin, \" \\u279C \", pendingBooking.destination, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 136\n            }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Seat:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 29\n            }, this), \" \", pendingBooking.seat_number]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"upload-visa-instruction\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              children: [\"Ensure your name (\", user.name, \"), email (\", user.email, \"), and company (\", user.company.name, \") are clearly visible.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleUploadAndBook,\n            className: \"upload-visa-form\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"visa-upload\",\n              className: \"upload-visa-file-label\",\n              children: \"Choose Visa File (Image or PDF):\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"visa-upload\",\n              className: \"upload-visa-file-input\",\n              type: \"file\",\n              onChange: handleFileChange,\n              accept: \"image/*,.pdf\",\n              required: true,\n              disabled: isLoading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 29\n            }, this), visaFile && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"upload-visa-filename\",\n              children: visaFile.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 42\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"upload-visa-button submit\",\n              disabled: !visaFile || isLoading,\n              children: isVerifying ? '🌶️ Verifying...' : isBooking ? '🥘 Booking...' : 'Verify & Book Seat'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 21\n        }, this), message && (messageType !== 'error' || !quizIncorrectFlash) &&\n        /*#__PURE__*/\n        // Show general messages, hide incorrect quiz msg after quiz shown\n        _jsxDEV(\"p\", {\n          className: `upload-visa-message ${messageType}`,\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate(-1),\n          disabled: isLoading,\n          className: \"upload-visa-button back\",\n          children: \"\\uD83D\\uDD19 Go Back (Change Seat)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 9\n    }, this)\n  );\n}\n_s(UploadVisa, \"8FFccZVoUllu3JTBMVFM0+WxFnA=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = UploadVisa;\nexport default UploadVisa;\nvar _c;\n$RefreshReg$(_c, \"UploadVisa\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","useLocation","useNavigate","axios","jsxDEV","_jsxDEV","quizQuestions","q","a","countryIcons","japan","mexico","italy","india","UploadVisa","_s","location","navigate","user","pendingBooking","state","visaFile","setVisaFile","isVerifying","setIsVerifying","isBooking","setIsBooking","message","setMessage","messageType","setMessageType","quizPassed","setQuizPassed","currentQuestion","setCurrentQuestion","quizIncorrectFlash","setQuizIncorrectFlash","randomIndex","Math","floor","random","length","iconEntries","Object","entries","handleFileChange","e","target","files","handleQuizAnswer","selectedCountryKey","setTimeout","window","reload","handleUploadAndBook","preventDefault","formData","FormData","append","name","email","company","console","log","verifyResponse","post","headers","data","status","bookResponse","seat_number","bookError","_bookError$response","_bookError$response2","_bookError$response2$","error","response","verifyError","_verifyError$response","_verifyError$response2","_verifyError$response3","isLoading","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","key","iconPath","disabled","title","charAt","toUpperCase","slice","src","alt","airline","origin","destination","onSubmit","htmlFor","id","type","onChange","accept","required","_c","$RefreshReg$"],"sources":["C:/Users/strik/Downloads/cafecoffee/corporate-travel/frontend/src/components/UploadVisa.js"],"sourcesContent":["// src/components/UploadVisa.js\r\nimport React, { useState, useEffect, useMemo } from 'react';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport './UploadVisa.css'; // Import the CSS file\r\n\r\n// --- Quiz Data ---\r\n// (Remember the questions you generated previously)\r\n// --- Quiz Data ---\r\n// (Remember the questions you generated previously)\r\nconst quizQuestions = [\r\n    { q: \"The concept of 'umami,' the fifth basic taste, was scientifically identified by a researcher studying a specific type of seaweed broth fundamental to which cuisine?\", a: 'japan' },\r\n    { q: \"Which cuisine features traditional agricultural and culinary practices so significant they were inscribed on UNESCO's Representative List of the Intangible Cultural Heritage of Humanity?\", a: 'mexico' },\r\n    { q: \"Despite being iconic today, tomatoes were a New World import and only became widely integrated into the sauces of this cuisine centuries after their introduction to Europe. Which cuisine is it?\", a: 'italy' },\r\n    { q: \"Due to deep-rooted religious and cultural factors, which cuisine boasts arguably the most extensive and complex array of vegetarian dishes as a core part of its tradition, rather than just an alternative?\", a: 'india' },\r\n    { q: \"In which cuisine did a globally popular dish involving rice and fish *originally* develop primarily as a method for preserving the fish through fermentation, where the rice was often discarded?\", a: 'japan' },\r\n    { q: \"This cuisine gave the world foundational ingredients like vanilla, chocolate (cacao), and avocados, which originated in its region. Which cuisine is it?\", a: 'mexico' },\r\n    { q: \"The careful practice of 'blooming' or toasting whole and ground spices in hot oil or ghee to release their essential oils is a foundational flavour-building technique in which cuisine?\", a: 'india' },\r\n    { q: \"The sheer variety of pasta shapes (estimated over 350) found in this cuisine isn't just for show; many specific shapes evolved deliberately to better hold or pair with particular types of sauces or ingredients. Which cuisine is this characteristic of?\", a: 'italy' },\r\n    { q: \"A traditional process called nixtamalization, involving soaking maize (corn) in an alkaline solution, is crucial for unlocking nutrients and creating the doughs essential to which cuisine?\", a: 'mexico' },\r\n    { q: \"While generalizations are often made, this European cuisine shows stark regional contrasts, for example, between northern areas favouring butter, risotto, and polenta, and southern areas favouring olive oil, dried pasta, and tomatoes. Which cuisine exhibits this strong regional divide?\", a: 'italy' },\r\n    { q: \"Which cuisine places a profound philosophical emphasis on *shun* (using ingredients at their peak seasonality) and *moritsuke* (the artful, aesthetic presentation of food)?\", a: 'japan' },\r\n    { q: \"Traveling across different states within this large country reveals dramatically different signature dishes and flavour profiles, heavily influenced by diverse climates, local agriculture, historical invasions (like Mughal), and religious dietary laws. Which cuisine is known for this vast internal diversity?\", a: 'india' }\r\n];\r\n\r\nconst countryIcons = {\r\n    japan: '/images/castle.png',\r\n    mexico: '/images/chichen-itza.png',\r\n    italy: '/images/colosseum.png',\r\n    india: '/images/india-gate.png',\r\n};\r\n// --- End Quiz Data ---\r\n\r\nfunction UploadVisa() {\r\n    const location = useLocation();\r\n    const navigate = useNavigate();\r\n    const { user, pendingBooking } = location.state || {};\r\n\r\n    // Visa State\r\n    const [visaFile, setVisaFile] = useState(null);\r\n    const [isVerifying, setIsVerifying] = useState(false);\r\n    const [isBooking, setIsBooking] = useState(false);\r\n    const [message, setMessage] = useState('');\r\n    const [messageType, setMessageType] = useState(''); // 'success' or 'error'\r\n\r\n    // Quiz State\r\n    const [quizPassed, setQuizPassed] = useState(false); // Controls whether quiz or form is shown\r\n    const [currentQuestion, setCurrentQuestion] = useState(null);\r\n    const [quizIncorrectFlash, setQuizIncorrectFlash] = useState(false);\r\n\r\n    // Select a random question on component mount\r\n    useEffect(() => {\r\n        if (!quizPassed) {\r\n            const randomIndex = Math.floor(Math.random() * quizQuestions.length);\r\n            setCurrentQuestion(quizQuestions[randomIndex]);\r\n        }\r\n    }, [quizPassed]); // Re-run if quizPassed changes (though unlikely needed here)\r\n\r\n    // Memoize icon entries to prevent re-creation on every render\r\n    const iconEntries = useMemo(() => Object.entries(countryIcons), []);\r\n\r\n\r\n    const handleFileChange = (e) => {\r\n        setVisaFile(e.target.files[0]);\r\n        setMessage('');\r\n        setMessageType('');\r\n    };\r\n\r\n    const handleQuizAnswer = (selectedCountryKey) => {\r\n        if (!currentQuestion) return;\r\n\r\n        if (selectedCountryKey === currentQuestion.a) {\r\n            // Correct Answer\r\n            setQuizPassed(true);\r\n            setMessage('Correct! Please proceed with visa upload.');\r\n            setMessageType('success'); // Optional success message\r\n        } else {\r\n            // Incorrect Answer\r\n            setQuizIncorrectFlash(true);\r\n            setMessage('Incorrect answer! Refreshing...');\r\n             setMessageType('error');\r\n            setTimeout(() => {\r\n                window.location.reload(); // Refresh the page\r\n            }, 1200); // Delay for flash effect\r\n        }\r\n    };\r\n\r\n    const handleUploadAndBook = async (e) => {\r\n        e.preventDefault();\r\n        if (!quizPassed || !visaFile) {\r\n            setMessage(!quizPassed ? 'Complete the quiz first.' : 'Please select a visa file.');\r\n            setMessageType('error');\r\n            return;\r\n        }\r\n\r\n        setMessage('');\r\n        setMessageType('');\r\n        setIsVerifying(true);\r\n\r\n        const formData = new FormData();\r\n        formData.append('visa', visaFile);\r\n        formData.append('name', user.name);\r\n        formData.append('email', user.email);\r\n        formData.append('company', user.company.name);\r\n\r\n        try {\r\n            console.log(\"Verifying visa...\");\r\n            const verifyResponse = await axios.post('http://localhost:5000/api/verify-visa', formData, {\r\n                headers: { 'Content-Type': 'multipart/form-data' },\r\n            });\r\n            setIsVerifying(false);\r\n\r\n            if (verifyResponse.data.status === 'success') {\r\n                setMessage('✅ Visa verified! Finalizing booking...');\r\n                setMessageType('success');\r\n                setIsBooking(true);\r\n\r\n                try {\r\n                    console.log(\"Finalizing booking...\");\r\n                    const bookResponse = await axios.post('http://localhost:5000/api/finalize-booking', pendingBooking);\r\n                    setIsBooking(false);\r\n\r\n                    if (bookResponse.data.status === 'success') {\r\n                        setMessage(`✅ Booking confirmed! Seat: ${pendingBooking.seat_number}. Redirecting...`);\r\n                        setMessageType('success');\r\n                        setTimeout(() => navigate('/dashboard', { state: { user } }), 2500);\r\n                    } else {\r\n                        setMessage(`⚠️ Booking failed: ${bookResponse.data.message || 'Unknown error'}`);\r\n                        setMessageType('error');\r\n                    }\r\n                } catch (bookError) {\r\n                    setIsBooking(false);\r\n                    console.error(\"Booking error:\", bookError.response?.data || bookError.message);\r\n                    setMessage(`⚠️ Booking failed: ${bookError.response?.data?.message || 'Server error'}`);\r\n                    setMessageType('error');\r\n                }\r\n            } else {\r\n                setMessage(`❌ Visa verification failed: ${verifyResponse.data.message || 'Details mismatch.'}`);\r\n                setMessageType('error');\r\n            }\r\n        } catch (verifyError) {\r\n            setIsVerifying(false);\r\n            console.error(\"Verification error:\", verifyError.response?.data || verifyError.message);\r\n            setMessage(`❌ Verification failed: ${verifyError.response?.data?.message || 'Server error.'}`);\r\n            setMessageType('error');\r\n        }\r\n    };\r\n\r\n    // Derived loading state\r\n    const isLoading = isVerifying || isBooking || quizIncorrectFlash;\r\n\r\n    // Early return for missing data\r\n    if (!user || !pendingBooking) {\r\n        return (\r\n            <div className=\"upload-visa-page\"> {/* Apply base class even for errors */}\r\n                <p className=\"upload-visa-error-message\">\r\n                    ❌ Error: Missing user or booking information. Please start over.\r\n                 </p>\r\n                 <button onClick={() => navigate('/')} className=\"upload-visa-button go-home\">Go Home</button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        // Added a wrapper div with a specific class for scoping styles\r\n        <div className=\"upload-visa-page\">\r\n            <div className=\"upload-visa-content-box\">\r\n                {!quizPassed && currentQuestion && (\r\n                    <div className=\"upload-visa-quiz-container\">\r\n                        <h3>Food Trivia Challenge!</h3>\r\n                        <p className=\"upload-visa-quiz-question\">{currentQuestion.q}</p>\r\n                        <div className={`upload-visa-quiz-options ${quizIncorrectFlash ? 'incorrect-flash' : ''}`}>\r\n                            {iconEntries.map(([key, iconPath]) => (\r\n                                <button\r\n                                    key={key}\r\n                                    className=\"upload-visa-country-icon-button\"\r\n                                    onClick={() => handleQuizAnswer(key)}\r\n                                    disabled={quizIncorrectFlash} // Disable while flashing/refreshing\r\n                                    title={key.charAt(0).toUpperCase() + key.slice(1)} // Tooltip for country name\r\n                                >\r\n                                    <img src={iconPath} alt={key} />\r\n                                </button>\r\n                            ))}\r\n                        </div>\r\n                         {message && messageType === 'error' && ( // Show temporary incorrect message\r\n                            <p className={`upload-visa-message ${messageType}`}>\r\n                                {message}\r\n                            </p>\r\n                        )}\r\n                    </div>\r\n                )}\r\n\r\n                {quizPassed && (\r\n                    <div className=\"upload-visa-form-container\">\r\n                        <h2>Upload Visa for Verification</h2>\r\n                        <p>Great job on the quiz! Now, please upload your visa document to confirm:</p>\r\n                        <p className=\"upload-visa-booking-details\">\r\n                            <strong>Flight:</strong> {pendingBooking.airline} | {pendingBooking.origin} ➜ {pendingBooking.destination} <br />\r\n                            <strong>Seat:</strong> {pendingBooking.seat_number}\r\n                        </p>\r\n                        <p className=\"upload-visa-instruction\">\r\n                            <i>Ensure your name ({user.name}), email ({user.email}), and company ({user.company.name}) are clearly visible.</i>\r\n                        </p>\r\n\r\n                        <form onSubmit={handleUploadAndBook} className=\"upload-visa-form\">\r\n                            <label htmlFor=\"visa-upload\" className=\"upload-visa-file-label\">\r\n                                Choose Visa File (Image or PDF):\r\n                            </label>\r\n                            <input\r\n                                id=\"visa-upload\"\r\n                                className=\"upload-visa-file-input\"\r\n                                type=\"file\"\r\n                                onChange={handleFileChange}\r\n                                accept=\"image/*,.pdf\"\r\n                                required\r\n                                disabled={isLoading}\r\n                            />\r\n                            {visaFile && <span className=\"upload-visa-filename\">{visaFile.name}</span>}\r\n\r\n                            <button type=\"submit\" className=\"upload-visa-button submit\" disabled={!visaFile || isLoading}>\r\n                                {isVerifying ? '🌶️ Verifying...' : isBooking ? '🥘 Booking...' : 'Verify & Book Seat'}\r\n                            </button>\r\n                        </form>\r\n                    </div>\r\n                )}\r\n\r\n                {/* General message area (for success/failure after quiz/upload attempt) */}\r\n                 {message && (messageType !== 'error' || !quizIncorrectFlash) && ( // Show general messages, hide incorrect quiz msg after quiz shown\r\n                    <p className={`upload-visa-message ${messageType}`}>\r\n                        {message}\r\n                    </p>\r\n                )}\r\n\r\n                <button\r\n                    onClick={() => navigate(-1)}\r\n                    disabled={isLoading}\r\n                    className=\"upload-visa-button back\"\r\n                >\r\n                    🔙 Go Back (Change Seat)\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default UploadVisa;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}